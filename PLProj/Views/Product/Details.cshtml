@model ProductViewModel
@{
	ViewData["Title"] = "Product Details";
}

<div class="container d-flex justify-content-center align-items-center min-vh-100">
	<div class="card shadow-sm w-100" style="max-width: 700px;">
		<div class="card-body">
			<h2 class="card-title text-center mb-4">Details</h2>

			<div class="row mb-3">
				<div class="col-md-6">
					<label asp-for="Name" class="form-label"></label>
					<input asp-for="Name" class="form-control" disabled/>
					<span asp-validation-for="Name" class="text-danger"></span>
				</div>
				<div class="col-md-6">
					<label asp-for="Price" class="form-label"></label>
					<input asp-for="Price" class="form-control" disabled />
					<span asp-validation-for="Price" class="text-danger"></span>
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-12">
					<label  class="form-label"> Category</label>
					<input asp-for="ProductCategory.Name" class="form-control" disabled />
					<span asp-validation-for="ProductCategory.Name" class="text-danger"></span>
				</div>
			</div>

			

			<div class="row mb-3">
				<div class="col-md-12">
				<label asp-for="Description" class="form-label"></label>
				<textarea asp-for="Description" class="form-control" disabled></textarea>
				<span asp-validation-for="Description" class="text-danger"></span>
			</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-12 d-flex justify-content-center align-items-center ">
				@if (!string.IsNullOrWhiteSpace(Model.ImgPath))
				{
					<div class="border text-center">
						<a href="~/@Model.ImgPath" target="_blank" rel="noopener noreferrer">
								<img src="~/@Model.ImgPath" id="previewImg" style="max-width: 100%; 
								max-height:150px; border-radius:5px; border:1px solid #bbb9b9; object-fit: contain;" />

						</a>
					</div>
				}
				else
				{
					<div class="text-center">
						<img id="previewImg" alt="No image uploaded" style="width:100%" />
					</div>
				}

			</div>
			</div>

			<div class="mb-3">
				<label class="form-label ">Associated Models</label>
				<div class="d-flex flex-wrap gap-3">
					@foreach (var model in ViewBag.ModelList as IEnumerable<SelectListItem>)
					{
						<div class="form-check me-2">
							<input class="form-check-input" type="checkbox" name="SelectedModelIds" value="@(model.Value)" id="model_@(model.Value)"
							@(Model.SelectedModelIds.Contains(int.Parse(model.Value)) ? "checked" : "") disabled />
							<label class="form-check-label" for="model_@(model.Value)">@(model.Text)</label>
						</div>
					}
				</div>
			</div>

			
			<div class="d-flex justify-content-between ">
				<a asp-controller="Product" asp-action="Edit" asp-route-Id="@Model.Id" class="btn btn-success">
					<i class="bi bi-check-circle me-1"></i>  Edit
				</a>
				<a asp-controller="Product" asp-action="Index" class="btn btn-outline-dark">
					<i class="bi bi-arrow-left me-1"></i>Back To List
				</a>
			</div>
		</div>
	</div>
</div>

